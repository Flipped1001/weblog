"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[9122],{2789:(t,e)=>{e.A=(t,e)=>{const r=t.__vccOpts||t;for(const[t,o]of e)r[t]=o;return r}},8533:(t,e,r)=>{r.r(e),r.d(e,{comp:()=>a,data:()=>g});var o=r(7829);const n=r.p+"assets/img/2024-05-16-21-52-30.28bedc07.png",s=(0,o.Fv)('<h1 id="既然有http为啥还要有rpc" tabindex="-1"><a class="header-anchor" href="#既然有http为啥还要有rpc"><span>既然有HTTP为啥还要有RPC？</span></a></h1><h5 id="tcp-是有三个特点-面向连接、可靠、基于字节流。" tabindex="-1"><a class="header-anchor" href="#tcp-是有三个特点-面向连接、可靠、基于字节流。"><span>TCP 是有三个特点，<strong>面向连接</strong>、<strong>可靠</strong>、基于<strong>字节流</strong>。</span></a></h5><p><strong>RPC</strong>（<strong>R</strong>emote <strong>P</strong>rocedure <strong>C</strong>all），又叫做<strong>远程过程调用</strong>。它本身并不是一个具体的协议，而是一种<strong>调用方式</strong>。</p><h2 id="_1-http和rpc的区别" tabindex="-1"><a class="header-anchor" href="#_1-http和rpc的区别"><span>1.HTTP和RPC的区别</span></a></h2><p>1.<strong>服务发现</strong> 找到服务对应的 IP 端口的过程，其实就是<strong>服务发现</strong>。 HTTP中使用DNS服务，而RPC有专门的**<mark>中间服务</mark>**去保存服务名和IP信息</p><p><strong>2.底层连接形式</strong> HTTP：其默认在建立底层 TCP 连接之后会一直保持这个连接（<strong>Keep Alive</strong>），之后的请求和响应都会复用这条连接。 RPC：也是通过建立 TCP 长链接进行数据交互，但不同的地方在于，RPC 协议一般还会再建个<strong>连接池</strong></p><p><strong>3.传输的内容</strong>这个将结构体转为二进制数组的过程就叫<strong>序列化</strong>，反过来将二进制数组复原成结构体的过程叫<strong>反序列化</strong>。</p><figure><img src="'+n+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>HTTP：使用 <strong>Json</strong> 来<strong>序列化</strong>结构体数据。 RPC：可以采用体积更小的 Protobuf 或其他序列化协议去保存结构体数据</p><h2 id="_2-websocket是什么" tabindex="-1"><a class="header-anchor" href="#_2-websocket是什么"><span>2.WebSocket是什么</span></a></h2><p>WebSocket：</p><p>为了兼容这些使用场景。浏览器在 <strong>TCP 三次握手</strong>建立连接之后，都<strong>统一使用 HTTP 协议</strong>先进行一次通信。</p><ul><li>如果此时是<strong>普通的 HTTP 请求</strong>，那后续双方就还是老样子继续用普通 HTTP 协议进行交互，这点没啥疑问。</li><li>如果这时候是<strong>想建立 WebSocket 连接</strong>，就会在 HTTP 请求里带上一些<strong>特殊的header 头</strong>，请求升级</li></ul><p>WebSocket完美继承了 TCP 协议的<strong>全双工</strong>能力，</p><p>双全功：<strong>同一时间里</strong>，<strong>双方</strong>都可以<strong>主动</strong>向对方发送数据</p>',15),p={},a=(0,r(2789).A)(p,[["render",function(t,e){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Q3)(" more "),s])}]]),g=JSON.parse('{"path":"/demo/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTP/%E5%BA%94%E7%94%A8%E5%B1%82%E7%9A%84%E5%8D%8F%E8%AE%AE.html","title":"应用层的协议","lang":"zh-CN","frontmatter":{"title":"应用层的协议","date":"2023-11-19T00:00:00.000Z","tags":["计算机基础","计算机网络","应用层"],"categories":["计算机网络"],"head":[["meta",{"property":"og:url","content":"https://flipped1001.cn/demo/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTP/%E5%BA%94%E7%94%A8%E5%B1%82%E7%9A%84%E5%8D%8F%E8%AE%AE.html"}],["meta",{"property":"og:site_name","content":"Flipped"}],["meta",{"property":"og:title","content":"应用层的协议"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-16T10:13:48.000Z"}],["meta",{"property":"article:author","content":"Flipped"}],["meta",{"property":"article:tag","content":"计算机基础"}],["meta",{"property":"article:tag","content":"计算机网络"}],["meta",{"property":"article:tag","content":"应用层"}],["meta",{"property":"article:published_time","content":"2023-11-19T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-16T10:13:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"应用层的协议\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-11-19T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-16T10:13:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Flipped\\"}]}"]]},"headers":[{"level":2,"title":"1.HTTP和RPC的区别","slug":"_1-http和rpc的区别","link":"#_1-http和rpc的区别","children":[]},{"level":2,"title":"2.WebSocket是什么","slug":"_2-websocket是什么","link":"#_2-websocket是什么","children":[]}],"git":{"createdTime":1721124828000,"updatedTime":1721124828000,"contributors":[{"name":"flipped1001","email":"3154147351@qq.com","commits":1}]},"readingTime":{"minutes":1.64,"words":492},"filePathRelative":"demo/计算机网络/HTTP/应用层的协议.md","localizedDate":"2023年11月19日","excerpt":""}')}}]);