"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[5923],{6786:(e,t)=>{t.A=(e,t)=>{const p=e.__vccOpts||e;for(const[e,n]of t)p[e]=n;return p}},3313:(e,t,p)=>{p.r(t),p.d(t,{comp:()=>r,data:()=>s});var n=p(2758);const a=(0,n.Fv)('<h3 id="什么是syn攻击-如何避免syn攻击" tabindex="-1"><a class="header-anchor" href="#什么是syn攻击-如何避免syn攻击"><span>什么是SYN攻击，如何避免SYN攻击？</span></a></h3><p>​ 攻击者在短时内向服务端发送大量的SYN报文，将服务端的<strong>半连接队列占满</strong>，使得服务器不能为正常用户服务</p><p>半连接队列（SYN队列）：收到SYN报文时，就会创建一个半连接对象，内核会把该链接放到SYN队列 全连接队列（Accept队列）：收到客户端的ACK报文时，内核从SYN队列取出一条半连接队列，创建一个全连接队列，然后添加到accept队列</p><p><strong>当 TCP 半连接队列满了，后续再在收到 SYN 报文就会丢弃</strong></p><p>1.调大 netdev_max_backlog</p><p>当网卡接收数据包的速度大于内核处理的速度时，会有一个队列用于保存这些数据包。我们可以调大这个队列的最大值</p><p>2.增大 TCP 半连接队列</p><p>增大三个参数：net.ipv4.tcp_max_syn_backlog， listen() 函数中的 backlog， net.core.somaxconn</p><p>3.开启 net.ipv4.tcp_syncookies</p><p>当半连接队列满了的时候，将接受的SYN报文，计算出一个cookie，然后将这个cookie值返回给客户端，当服务端接收到ACK时，会判断ACK包的合法性，如果合法就创建一个全连接队列</p><p>4.减少 SYN+ACK 重传次数</p><p>TCP 会重传 SYN+ACK ，当重传超过次数达到上限后，就会断开连接。我们可以减少重传的上限</p><p>5.防火墙设置</p><p>有时防火墙或者网络设备的设置会导致TCP连接建立失败。检查防火墙设置，确保允许了TCP连接建立所需要的端口和协议。</p><h3 id="什么时syn超时-如何解决syn超时" tabindex="-1"><a class="header-anchor" href="#什么时syn超时-如何解决syn超时"><span>什么时SYN超时，如何解决SYN超时？</span></a></h3><p>SYN超时(SYN TIMEOUT)：在TCP连接的建立阶段，客户端会发送一个SYN（同步）报文段到服务器，服务器接收到后会回复一个SYN-ACK（同步-确认）报文段，最后客户端再发送一个ACK（确认）报文段确认连接建立。如果在某个阶段出现超时，可能会导致连接建立失败。SYN超时可能会由于网络延迟，拥塞或网络故障等原因引起。</p><p>1.增加SYN超时时间：调整服务器的SYN超时时间，使其能够容忍更长的等待时间</p><p>2.优化网络连接：检查网络设备，链路和路由器等，确保网络的稳定性和低延迟</p><p>3.加强服务器性能：提升服务器的资源和处理能力，以应对更多的连接请求</p>',19),o={},r=(0,p(6786).A)(o,[["render",function(e,t){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Q3)(" more "),a])}]]),s=JSON.parse('{"path":"/demo/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/TCP/SYN%E5%BB%B6%E6%97%B6%E5%92%8C%E6%B3%9B%E6%B4%AA%E6%94%BB%E5%87%BB.html","title":"SYN延时和泛洪攻击","lang":"zh-CN","frontmatter":{"title":"SYN延时和泛洪攻击","date":"2023-11-30T00:00:00.000Z","tags":["计算机基础","计算机网络"],"categories":["计算机网络"],"head":[["meta",{"property":"og:url","content":"https://flipped1001.cn/demo/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/TCP/SYN%E5%BB%B6%E6%97%B6%E5%92%8C%E6%B3%9B%E6%B4%AA%E6%94%BB%E5%87%BB.html"}],["meta",{"property":"og:site_name","content":"Flipped"}],["meta",{"property":"og:title","content":"SYN延时和泛洪攻击"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-16T10:13:48.000Z"}],["meta",{"property":"article:author","content":"Flipped"}],["meta",{"property":"article:tag","content":"计算机基础"}],["meta",{"property":"article:tag","content":"计算机网络"}],["meta",{"property":"article:published_time","content":"2023-11-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-16T10:13:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SYN延时和泛洪攻击\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-11-30T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-16T10:13:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Flipped\\"}]}"]]},"headers":[{"level":3,"title":"什么是SYN攻击，如何避免SYN攻击？","slug":"什么是syn攻击-如何避免syn攻击","link":"#什么是syn攻击-如何避免syn攻击","children":[]},{"level":3,"title":"什么时SYN超时，如何解决SYN超时？","slug":"什么时syn超时-如何解决syn超时","link":"#什么时syn超时-如何解决syn超时","children":[]}],"git":{"createdTime":1721124828000,"updatedTime":1721124828000,"contributors":[{"name":"flipped1001","email":"3154147351@qq.com","commits":1}]},"readingTime":{"minutes":2.26,"words":677},"filePathRelative":"demo/计算机网络/TCP/SYN延时和泛洪攻击.md","localizedDate":"2023年11月30日","excerpt":""}')}}]);